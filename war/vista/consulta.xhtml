<!DOCTYPE html 
     PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
     "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:p="http://primefaces.org/ui">
<h:head>
	<title>Consultar Instituciones</title>
</h:head>
<h:body>

<table>
<tr>
  <td style="width:80%">

<div id="bienvenido" align="center" style="font-size:10px;font-family: verdana,arial, sans-serif">
	<h:form id="formularioInsti">
	
	<h3>Consultar Instituciones</h3>
    <p:outputPanel id="customPanel">
    <p:selectOneRadio id="customRadio" value="#{consultarInstitucionMB.opcionBusqueda}" layout="custom">        
        <f:selectItem itemLabel="Nombre" itemValue="1" />
        <f:selectItem itemLabel="UGEL" itemValue="2" />
        <f:selectItem itemLabel="Distrito" itemValue="3" />       
        <p:ajax event="change" listener="#{consultarInstitucionMB.opcionActiva}" 
        update="boxNombre,boxUgel,boxDistrito"/> 
    </p:selectOneRadio>
 
    <h:panelGrid columns="3" style="margin-bottom:10px" cellpadding="5">
        <p:radioButton id="opt1" for="customRadio" itemIndex="0"/>
        <h:outputLabel for="opt1" value="Nombre" />
        <p:inputText id="boxNombre"  value="#{consultarInstitucionMB.filtro}" >
 			<p:ajax id="ab1" event="keyup" listener="#{consultarInstitucionMB.buscar}" update="formularioInsti:listaInstituciones" />
 		</p:inputText>
 		
        <p:radioButton id="opt2" for="customRadio" itemIndex="1"/>
        <h:outputLabel for="opt2" value="UGEL" />
        <p:selectOneMenu id="boxUgel" value="#{consultarInstitucionMB.sUgel}">
            <f:selectItem itemLabel="UGEL" itemValue="0" />
            <f:selectItem itemLabel="1" itemValue="1" />
            <f:selectItem itemLabel="3" itemValue="3" />
            <f:selectItem itemLabel="4" itemValue="4" />   
            <f:selectItem itemLabel="5" itemValue="5" />
            <f:selectItem itemLabel="6" itemValue="6" />
            <f:selectItem itemLabel="7" itemValue="7" />   
            <p:ajax event="change"  listener="#{consultarInstitucionMB.buscarUgel()}" 
        update="formularioInsti:listaInstituciones"/>
        </p:selectOneMenu>
 
        <p:radioButton id="opt3" for="customRadio" itemIndex="2"/>
        <h:outputLabel for="opt3" value="Distrito" />
        <p:inputText id="boxDistrito" value="#{consultarInstitucionMB.filtro3}">
        	<p:ajax event="keyup" listener="#{consultarInstitucionMB.buscarDistrito}" update="formularioInsti:listaInstituciones" />
        </p:inputText>
    </h:panelGrid>    
    </p:outputPanel>
					
		<div style="width: 700px">
			<br />
			<fieldset>
				<legend style="color:blue;">Listado de Instituciones</legend>
				
					<p:dataTable value="#{consultarInstitucionMB.institucionesFiltro}"
						id="listaInstituciones" 
						var="institucion">
						<p:column>
							<f:facet name="header"> Id</f:facet>
						#{institucion.id}
						</p:column>
						<p:column>
							<f:facet name="header"> Nombre </f:facet>
						#{institucion.nombre}
						</p:column>
					<p:column>
							<f:facet name="header"> Ugel</f:facet>
						#{institucion.ugel}
					</p:column>
					<p:column>
							<f:facet name="header"> Sector</f:facet>
						#{institucion.sector}
					</p:column>
					<p:column>
							<f:facet name="header"> Distrito</f:facet>
						#{institucion.distrito}
					</p:column>
					<p:column>
							<f:facet name="header"> Direccion</f:facet>
						#{institucion.direccion}
					</p:column>
					</p:dataTable>
				
			</fieldset>
		</div>
	</h:form>
</div>
	
	</td>
  	<td style="width:20%">
  	<h3>Widgets Educativos</h3>
	<p:media value="http://www.youtube.com/v/YOp5fCjyf0A" width="420" height="265" player="flash"/>
  	
  	... m√°s widgets
  	</td>
</tr>
</table>

</h:body>
</html>